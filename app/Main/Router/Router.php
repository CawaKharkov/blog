<?php		namespace Main\Router;		class Router {				private $d_controller = 'Main';		private $d_action = 'indexAction';				private function getRequest () {						$uri = isset($_SERVER['REQUEST_URI']) ? trim($_SERVER['REQUEST_URI'], '/') : array();			if (strpos($uri, '?')) {				$uri = substr($uri, 0, strpos($uri, '?'));			}			if (strpos($uri, '.html')) {				$uri = substr($uri, 0, strpos($uri, '.html'));			}			return $uri;					}				public function runApp () {						$uri = $this->getRequest();			$controller = !empty($uri[0]) ? ucfirst($uri[0]) : $this->d_controller;			$action = !empty($uri[1]) ? $uri[1].'Action' : $this->d_action;						if (!empty($uri[2])){				$keys = $values = array();				for ($i = 2, $cnt = count($splits); $i < $cnt; $i++){					if ($i % 2 == 0)						$keys[] = $splits[$i];					else						$values[] = $splits[$i];				}				if (!empty($keys) && !empty($values))					$params = array_combine($keys, $values);				else 					die ('error params | 404');			}						if (file_exists('...'.$controller.'.php')) {				include '...'$controller.'.php';				if (class_exists($controller)) {					$controller = new $controller();					if (method_exists($controller, $action)) {						return $controller->$action($params);					}					else						die ('error | no method');				}				else					die ('error | no class');			}			else 				die ('error | 404 not found');					}			}	?>